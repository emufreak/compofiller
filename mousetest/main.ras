program Tutorial1;
@use "graphics"
var  

@export "images/trse.flf"	 "images/trse.bin" 256

   	i,j,k, isDone,mousereg: integer = 0; 
   	image : incbin("images/trse.bin") chipmem;
	image_palette : incbin("images/trse.pal");
// Some random image   	

begin
	// Set to default interleaved 4-bpl screen
	Graphics::SetupDefaultScreen(#image,4);	
	setpalette(#image_palette,#copper_palette,16);
		
	while (mousereg=0) do begin
		Poke16(#$200,0,1);
		mousereg := Peek8(#$bfe001,0);
		mousereg := mousereg & $40;
		// Wait for vertical blank
		WaitVerticalBlank();	
		// Apply copper list
		ApplyCopperList();
	end;

end.
